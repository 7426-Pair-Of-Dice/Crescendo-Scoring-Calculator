import{s as he,n as re,r as Se,b as Q,f as W,h as Z}from"../chunks/scheduler.Woq52Yk-.js";import{S as de,i as me,g as w,m as X,s as B,h as N,j as D,n as G,f as k,c as O,y as Te,k as d,a as ne,x as h,z as Ne,A as ae,o as _e,B as Ke,l as oe,d as H,p as Ae,b as Ve,t as F,C as Pe,e as je,D as Y,r as x,u as ee,v as te,w as le,E as $e}from"../chunks/index.ibmgEkrh.js";function ke(e){return e?.length!==void 0?e:Array.from(e)}function xe(e){let l,t,s,o,r,n,i,a,m="-",f,c,g,_,V="+",u,b;return{c(){l=w("div"),t=w("span"),s=X(e[1]),n=B(),i=w("div"),a=w("button"),a.textContent=m,f=B(),c=w("input"),g=B(),_=w("button"),_.textContent=V,this.h()},l(v){l=N(v,"DIV",{class:!0});var E=D(l);t=N(E,"SPAN",{class:!0,title:!0});var C=D(t);s=G(C,e[1]),C.forEach(k),n=O(E),i=N(E,"DIV",{class:!0});var p=D(i);a=N(p,"BUTTON",{class:!0,"data-svelte-h":!0}),Te(a)!=="svelte-1si2c2i"&&(a.textContent=m),f=O(p),c=N(p,"INPUT",{type:!0,min:!0,max:!0,class:!0}),g=O(p),_=N(p,"BUTTON",{class:!0,"data-svelte-h":!0}),Te(_)!=="svelte-1m6dhnb"&&(_.textContent=V),p.forEach(k),E.forEach(k),this.h()},h(){d(t,"class",o="label "+(e[4]?"title":"")+" svelte-42ixwr"),d(t,"title",r=e[2]>0?"+/- "+e[2]+" Points":e[1]),d(a,"class","svelte-42ixwr"),d(c,"type","number"),d(c,"min","0"),d(c,"max",e[3]),d(c,"class","svelte-42ixwr"),d(_,"class","svelte-42ixwr"),d(i,"class","counter svelte-42ixwr"),d(l,"class","container svelte-42ixwr")},m(v,E){ne(v,l,E),h(l,t),h(t,s),h(l,n),h(l,i),h(i,a),h(i,f),h(i,c),Ne(c,e[0]),h(i,g),h(i,_),u||(b=[ae(a,"click",e[9]),ae(c,"input",e[10]),ae(_,"click",e[11])],u=!0)},p(v,[E]){E&2&&_e(s,v[1]),E&16&&o!==(o="label "+(v[4]?"title":"")+" svelte-42ixwr")&&d(t,"class",o),E&6&&r!==(r=v[2]>0?"+/- "+v[2]+" Points":v[1])&&d(t,"title",r),E&8&&d(c,"max",v[3]),E&1&&Ke(c.value)!==v[0]&&Ne(c,v[0])},i:re,o:re,d(v){v&&k(l),u=!1,Se(b)}}}function et(e,l,t){let{label:s,increment:o=1,decrement:r=o,multiplier:n=0,max:i=void 0,title:a=!1}=l,{value:m=0}=l,f=()=>{t(0,m+=o)},c=()=>{t(0,m-=r)};const g=()=>c();function _(){m=Ke(this.value),t(0,m),t(3,i)}const V=()=>f();return e.$$set=u=>{"label"in u&&t(1,s=u.label),"increment"in u&&t(7,o=u.increment),"decrement"in u&&t(8,r=u.decrement),"multiplier"in u&&t(2,n=u.multiplier),"max"in u&&t(3,i=u.max),"title"in u&&t(4,a=u.title),"value"in u&&t(0,m=u.value)},e.$$.update=()=>{e.$$.dirty&9&&(m<0&&t(0,m=0),i&&m>i&&t(0,m=i))},[m,s,n,i,a,f,c,o,r,g,_,V]}class Be extends de{constructor(l){super(),me(this,l,et,xe,he,{label:1,increment:7,decrement:8,multiplier:2,max:3,title:4,value:0})}}function Le(e,l,t){const s=e.slice();return s[8]=l[t],s}function He(e,l,t){const s=e.slice();return s[11]=l[t],s[12]=l,s[13]=t,s}function tt(e){let l,t,s;function o(n){e[7](n,e[11])}let r={label:e[11].label,multiplier:e[11].increment,max:e[11].max};return e[11].value!==void 0&&(r.value=e[11].value),l=new Be({props:r}),Q.push(()=>Y(l,"value",o)),{c(){x(l.$$.fragment)},l(n){ee(l.$$.fragment,n)},m(n,i){te(l,n,i),s=!0},p(n,i){e=n;const a={};i&17&&(a.label=e[11].label),i&17&&(a.multiplier=e[11].increment),i&17&&(a.max=e[11].max),!t&&i&17&&(t=!0,a.value=e[11].value,W(()=>t=!1)),l.$set(a)},i(n){s||(H(l.$$.fragment,n),s=!0)},o(n){F(l.$$.fragment,n),s=!1},d(n){le(l,n)}}}function lt(e){let l,t,s;function o(n){e[6](n)}let r={label:e[11].label,multiplier:e[11].increment,max:e[11].max};return e[2]!==void 0&&(r.value=e[2]),l=new Be({props:r}),Q.push(()=>Y(l,"value",o)),{c(){x(l.$$.fragment)},l(n){ee(l.$$.fragment,n)},m(n,i){te(l,n,i),s=!0},p(n,i){const a={};i&17&&(a.label=n[11].label),i&17&&(a.multiplier=n[11].increment),i&17&&(a.max=n[11].max),!t&&i&4&&(t=!0,a.value=n[2],W(()=>t=!1)),l.$set(a)},i(n){s||(H(l.$$.fragment,n),s=!0)},o(n){F(l.$$.fragment,n),s=!1},d(n){le(l,n)}}}function Me(e){let l,t,s,o;const r=[lt,tt],n=[];function i(a,m){return a[11].coopertition?0:1}return l=i(e),t=n[l]=r[l](e),{c(){t.c(),s=B()},l(a){t.l(a),s=O(a)},m(a,m){n[l].m(a,m),ne(a,s,m),o=!0},p(a,m){let f=l;l=i(a),l===f?n[l].p(a,m):(Ae(),F(n[f],1,1,()=>{n[f]=null}),Ve(),t=n[l],t?t.p(a,m):(t=n[l]=r[l](a),t.c()),H(t,1),t.m(s.parentNode,s))},i(a){o||(H(t),o=!0)},o(a){F(t),o=!1},d(a){a&&k(s),n[l].d(a)}}}function ze(e){let l,t=e[8]+"",s,o,r,n,i=ke(e[0].category[e[8]]),a=[];for(let f=0;f<i.length;f+=1)a[f]=Me(He(e,i,f));const m=f=>F(a[f],1,1,()=>{a[f]=null});return{c(){l=w("span"),s=X(t),o=B();for(let f=0;f<a.length;f+=1)a[f].c();r=je(),this.h()},l(f){l=N(f,"SPAN",{class:!0});var c=D(l);s=G(c,t),c.forEach(k),o=O(f);for(let g=0;g<a.length;g+=1)a[g].l(f);r=je(),this.h()},h(){d(l,"class","svelte-1ix49fh")},m(f,c){ne(f,l,c),h(l,s),ne(f,o,c);for(let g=0;g<a.length;g+=1)a[g]&&a[g].m(f,c);ne(f,r,c),n=!0},p(f,c){if((!n||c&16)&&t!==(t=f[8]+"")&&_e(s,t),c&21){i=ke(f[0].category[f[8]]);let g;for(g=0;g<i.length;g+=1){const _=He(f,i,g);a[g]?(a[g].p(_,c),H(a[g],1)):(a[g]=Me(_),a[g].c(),H(a[g],1),a[g].m(r.parentNode,r))}for(Ae(),g=i.length;g<a.length;g+=1)m(g);Ve()}},i(f){if(!n){for(let c=0;c<i.length;c+=1)H(a[c]);n=!0}},o(f){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)F(a[c]);n=!1},d(f){f&&(k(l),k(o),k(r)),Pe(a,f)}}}function nt(e){let l,t,s,o=e[0].name+"",r,n,i,a,m,f,c,g=ke(e[4]),_=[];for(let u=0;u<g.length;u+=1)_[u]=ze(Le(e,g,u));const V=u=>F(_[u],1,1,()=>{_[u]=null});return{c(){l=w("div"),t=w("div"),s=w("h3"),r=X(o),n=B(),i=w("h3"),a=X(e[1]),m=B(),f=w("div");for(let u=0;u<_.length;u+=1)_[u].c();this.h()},l(u){l=N(u,"DIV",{class:!0,style:!0});var b=D(l);t=N(b,"DIV",{class:!0});var v=D(t);s=N(v,"H3",{class:!0});var E=D(s);r=G(E,o),E.forEach(k),n=O(v),i=N(v,"H3",{class:!0});var C=D(i);a=G(C,e[1]),C.forEach(k),v.forEach(k),m=O(b),f=N(b,"DIV",{class:!0});var p=D(f);for(let R=0;R<_.length;R+=1)_[R].l(p);p.forEach(k),b.forEach(k),this.h()},h(){d(s,"class","label svelte-1ix49fh"),d(i,"class","score svelte-1ix49fh"),d(t,"class","header svelte-1ix49fh"),d(f,"class","body svelte-1ix49fh"),d(l,"class","container svelte-1ix49fh"),oe(l,"--border-color",e[3])},m(u,b){ne(u,l,b),h(l,t),h(t,s),h(s,r),h(t,n),h(t,i),h(i,a),h(l,m),h(l,f);for(let v=0;v<_.length;v+=1)_[v]&&_[v].m(f,null);c=!0},p(u,[b]){if((!c||b&1)&&o!==(o=u[0].name+"")&&_e(r,o),(!c||b&2)&&_e(a,u[1]),b&21){g=ke(u[4]);let v;for(v=0;v<g.length;v+=1){const E=Le(u,g,v);_[v]?(_[v].p(E,b),H(_[v],1)):(_[v]=ze(E),_[v].c(),H(_[v],1),_[v].m(f,null))}for(Ae(),v=g.length;v<_.length;v+=1)V(v);Ve()}(!c||b&8)&&oe(l,"--border-color",u[3])},i(u){if(!c){for(let b=0;b<g.length;b+=1)H(_[b]);c=!0}},o(u){_=_.filter(Boolean);for(let b=0;b<_.length;b+=1)F(_[b]);c=!1},d(u){u&&k(l),Pe(_,u)}}}function st(e,l,t){let{score:s=0,color:o="#393939",count:r=0}=l,{config:n}=l,i=Object.keys(n.category),{coopertition:a=0}=l;function m(c){a=c,t(2,a)}function f(c,g){e.$$.not_equal(g.value,c)&&(g.value=c,t(0,n))}return e.$$set=c=>{"score"in c&&t(1,s=c.score),"color"in c&&t(3,o=c.color),"count"in c&&t(5,r=c.count),"config"in c&&t(0,n=c.config),"coopertition"in c&&t(2,a=c.coopertition)},e.$$.update=()=>{if(e.$$.dirty&17){let c=0,g=0;i.forEach(_=>{n.category[_].forEach(V=>{c+=V.value*V.increment,g+=V.value})}),t(1,s=c),t(5,r=g)}},[n,s,a,o,i,r,m,f]}class qe extends de{constructor(l){super(),me(this,l,st,nt,he,{score:1,color:3,count:5,config:0,coopertition:2})}}function ot(e){let l,t,s,o,r,n,i,a,m,f,c,g,_,V,u;return{c(){l=w("div"),t=w("span"),s=B(),o=w("div"),r=w("span"),n=X("🤝"),a=B(),m=w("span"),f=X("🎵"),g=B(),_=w("span"),V=X("🎶"),this.h()},l(b){l=N(b,"DIV",{class:!0});var v=D(l);t=N(v,"SPAN",{class:!0}),D(t).forEach(k),s=O(v),o=N(v,"DIV",{class:!0});var E=D(o);r=N(E,"SPAN",{class:!0,title:!0});var C=D(r);n=G(C,"🤝"),C.forEach(k),a=O(E),m=N(E,"SPAN",{class:!0,title:!0});var p=D(m);f=G(p,"🎵"),p.forEach(k),g=O(E),_=N(E,"SPAN",{class:!0,title:!0});var R=D(_);V=G(R,"🎶"),R.forEach(k),E.forEach(k),v.forEach(k),this.h()},h(){d(t,"class","label svelte-1mnvyuy"),d(r,"class",i="point"+(e[0].coopertition?" active":"")+" svelte-1mnvyuy"),d(r,"title","Coopertition"),d(m,"class",c="point"+(e[0].melody?" active":"")+" color svelte-1mnvyuy"),d(m,"title","Melody"),d(_,"class",u="point"+(e[0].ensemble?" active":"")+" color svelte-1mnvyuy"),d(_,"title","Ensemble"),d(o,"class","counter svelte-1mnvyuy"),d(l,"class","container svelte-1mnvyuy")},m(b,v){ne(b,l,v),h(l,t),h(l,s),h(l,o),h(o,r),h(r,n),h(o,a),h(o,m),h(m,f),h(o,g),h(o,_),h(_,V)},p(b,[v]){v&1&&i!==(i="point"+(b[0].coopertition?" active":"")+" svelte-1mnvyuy")&&d(r,"class",i),v&1&&c!==(c="point"+(b[0].melody?" active":"")+" color svelte-1mnvyuy")&&d(m,"class",c),v&1&&u!==(u="point"+(b[0].ensemble?" active":"")+" color svelte-1mnvyuy")&&d(_,"class",u)},i:re,o:re,d(b){b&&k(l)}}}function at(e,l,t){let{points:s}=l;return e.$$set=o=>{"points"in o&&t(0,s=o.points)},[s]}class rt extends de{constructor(l){super(),me(this,l,at,ot,he,{points:0})}}function it(e){let l,t,s,o,r,n,i,a,m,f,c,g,_,V,u,b,v,E,C,p,R,q,T,J,P,j,U;return{c(){l=w("div"),t=w("span"),s=X(e[1]),r=B(),n=w("div"),i=w("button"),a=X("X"),f=B(),c=w("button"),g=X("P"),V=B(),u=w("button"),b=X("L"),E=B(),C=w("button"),p=X("C"),q=B(),T=w("button"),J=X("R"),this.h()},l(y){l=N(y,"DIV",{class:!0});var A=D(l);t=N(A,"SPAN",{class:!0,title:!0});var $=D(t);s=G($,e[1]),$.forEach(k),r=O(A),n=N(A,"DIV",{class:!0,style:!0});var L=D(n);i=N(L,"BUTTON",{title:!0,class:!0});var ie=D(i);a=G(ie,"X"),ie.forEach(k),f=O(L),c=N(L,"BUTTON",{title:!0,class:!0});var ge=D(c);g=G(ge,"P"),ge.forEach(k),V=O(L),u=N(L,"BUTTON",{title:!0,class:!0});var se=D(u);b=G(se,"L"),se.forEach(k),E=O(L),C=N(L,"BUTTON",{title:!0,class:!0});var S=D(C);p=G(S,"C"),S.forEach(k),q=O(L),T=N(L,"BUTTON",{title:!0,class:!0});var M=D(T);J=G(M,"R"),M.forEach(k),L.forEach(k),A.forEach(k),this.h()},h(){d(t,"class",o="label "+(e[2]?"title":"")+" svelte-o1gr0v"),d(t,"title",e[1]),d(i,"title","Not interacting with stage"),d(i,"class",m=Z(e[0]==0?"selected":"")+" svelte-o1gr0v"),d(c,"title","Parked"),d(c,"class",_=Z(e[0]==1?"selected":"")+" svelte-o1gr0v"),d(u,"title","Left Onstage"),d(u,"class",v=Z(e[0]==2?"selected":"")+" svelte-o1gr0v"),d(C,"title","Center Onstage"),d(C,"class",R=Z(e[0]==3?"selected":"")+" svelte-o1gr0v"),d(T,"title","Right Onstage"),d(T,"class",P=Z(e[0]==4?"selected":"")+" svelte-o1gr0v"),d(n,"class","radio svelte-o1gr0v"),oe(n,"--alliance-color",e[3]),d(l,"class","container svelte-o1gr0v")},m(y,A){ne(y,l,A),h(l,t),h(t,s),h(l,r),h(l,n),h(n,i),h(i,a),h(n,f),h(n,c),h(c,g),h(n,V),h(n,u),h(u,b),h(n,E),h(n,C),h(C,p),h(n,q),h(n,T),h(T,J),j||(U=[ae(i,"click",e[5]),ae(c,"click",e[6]),ae(u,"click",e[7]),ae(C,"click",e[8]),ae(T,"click",e[9])],j=!0)},p(y,[A]){A&2&&_e(s,y[1]),A&4&&o!==(o="label "+(y[2]?"title":"")+" svelte-o1gr0v")&&d(t,"class",o),A&2&&d(t,"title",y[1]),A&1&&m!==(m=Z(y[0]==0?"selected":"")+" svelte-o1gr0v")&&d(i,"class",m),A&1&&_!==(_=Z(y[0]==1?"selected":"")+" svelte-o1gr0v")&&d(c,"class",_),A&1&&v!==(v=Z(y[0]==2?"selected":"")+" svelte-o1gr0v")&&d(u,"class",v),A&1&&R!==(R=Z(y[0]==3?"selected":"")+" svelte-o1gr0v")&&d(C,"class",R),A&1&&P!==(P=Z(y[0]==4?"selected":"")+" svelte-o1gr0v")&&d(T,"class",P),A&8&&oe(n,"--alliance-color",y[3])},i:re,o:re,d(y){y&&k(l),j=!1,Se(U)}}}function ct(e,l,t){let{label:s,title:o=!1,color:r="#E4A234"}=l,{value:n=0}=l;function i(_){t(0,n=_)}const a=()=>i(0),m=()=>i(1),f=()=>i(2),c=()=>i(3),g=()=>i(4);return e.$$set=_=>{"label"in _&&t(1,s=_.label),"title"in _&&t(2,o=_.title),"color"in _&&t(3,r=_.color),"value"in _&&t(0,n=_.value)},e.$$.update=()=>{e.$$.dirty&1&&n<0&&t(0,n=0)},[n,s,o,r,i,a,m,f,c,g]}class Ue extends de{constructor(l){super(),me(this,l,ct,it,he,{label:1,title:2,color:3,value:0})}}function ut(e){let l,t,s="Spotlight",o,r,n,i,a,m,f,c,g,_,V,u,b,v,E;return{c(){l=w("div"),t=w("span"),t.textContent=s,o=B(),r=w("div"),n=w("button"),i=X("L"),m=B(),f=w("button"),c=X("C"),_=B(),V=w("button"),u=X("R"),this.h()},l(C){l=N(C,"DIV",{class:!0});var p=D(l);t=N(p,"SPAN",{class:!0,title:!0,"data-svelte-h":!0}),Te(t)!=="svelte-157iv3a"&&(t.textContent=s),o=O(p),r=N(p,"DIV",{class:!0,style:!0});var R=D(r);n=N(R,"BUTTON",{title:!0,class:!0});var q=D(n);i=G(q,"L"),q.forEach(k),m=O(R),f=N(R,"BUTTON",{title:!0,class:!0});var T=D(f);c=G(T,"C"),T.forEach(k),_=O(R),V=N(R,"BUTTON",{title:!0,class:!0});var J=D(V);u=G(J,"R"),J.forEach(k),R.forEach(k),p.forEach(k),this.h()},h(){d(t,"class","label svelte-in9y7t"),d(t,"title","Spotlight"),d(n,"title","Left Spotlight"),d(n,"class",a=Z(e[0][0]?"selected":"")+" svelte-in9y7t"),d(f,"title","Center Spotlight"),d(f,"class",g=Z(e[0][1]?"selected":"")+" svelte-in9y7t"),d(V,"title","Right Spotlight"),d(V,"class",b=Z(e[0][2]?"selected":"")+" svelte-in9y7t"),d(r,"class","radio svelte-in9y7t"),oe(r,"--alliance-color",e[1]),d(l,"class","container svelte-in9y7t")},m(C,p){ne(C,l,p),h(l,t),h(l,o),h(l,r),h(r,n),h(n,i),h(r,m),h(r,f),h(f,c),h(r,_),h(r,V),h(V,u),v||(E=[ae(n,"click",e[3]),ae(f,"click",e[4]),ae(V,"click",e[5])],v=!0)},p(C,[p]){p&1&&a!==(a=Z(C[0][0]?"selected":"")+" svelte-in9y7t")&&d(n,"class",a),p&1&&g!==(g=Z(C[0][1]?"selected":"")+" svelte-in9y7t")&&d(f,"class",g),p&1&&b!==(b=Z(C[0][2]?"selected":"")+" svelte-in9y7t")&&d(V,"class",b),p&2&&oe(r,"--alliance-color",C[1])},i:re,o:re,d(C){C&&k(l),v=!1,Se(E)}}}function ft(e,l,t){let{color:s="#E4A234"}=l,{spotlight:o=[!1,!1,!1]}=l;function r(m){t(0,o[m]=!o[m],o)}const n=()=>r(0),i=()=>r(1),a=()=>r(2);return e.$$set=m=>{"color"in m&&t(1,s=m.color),"spotlight"in m&&t(0,o=m.spotlight)},[o,s,r,n,i,a]}class _t extends de{constructor(l){super(),me(this,l,ft,ut,he,{color:1,spotlight:0})}}function ht(e){let l,t,s,o="Stage",r,n,i,a,m,f,c,g,_,V,u,b,v,E,C,p,R,q,T,J;function P(S){e[7](S)}let j={label:"Notes in Traps",max:3,multiplier:5};e[5]!==void 0&&(j.value=e[5]),f=new Be({props:j}),Q.push(()=>Y(f,"value",P));function U(S){e[8](S)}let y={label:"Robot 1",color:e[2]};e[3][0]!==void 0&&(y.value=e[3][0]),_=new Ue({props:y}),Q.push(()=>Y(_,"value",U));function A(S){e[9](S)}let $={label:"Robot 2",color:e[2]};e[3][1]!==void 0&&($.value=e[3][1]),b=new Ue({props:$}),Q.push(()=>Y(b,"value",A));function L(S){e[10](S)}let ie={label:"Robot 3",color:e[2]};e[3][2]!==void 0&&(ie.value=e[3][2]),C=new Ue({props:ie}),Q.push(()=>Y(C,"value",L));function ge(S){e[11](S)}let se={color:e[2]};return e[4]!==void 0&&(se.spotlight=e[4]),q=new _t({props:se}),Q.push(()=>Y(q,"spotlight",ge)),{c(){l=w("div"),t=w("div"),s=w("h3"),s.textContent=o,r=B(),n=w("h3"),i=X(e[0]),a=B(),m=w("div"),x(f.$$.fragment),g=B(),x(_.$$.fragment),u=B(),x(b.$$.fragment),E=B(),x(C.$$.fragment),R=B(),x(q.$$.fragment),this.h()},l(S){l=N(S,"DIV",{class:!0,style:!0});var M=D(l);t=N(M,"DIV",{class:!0});var ce=D(t);s=N(ce,"H3",{class:!0,"data-svelte-h":!0}),Te(s)!=="svelte-9jht9l"&&(s.textContent=o),r=O(ce),n=N(ce,"H3",{class:!0});var ve=D(n);i=G(ve,e[0]),ve.forEach(k),ce.forEach(k),a=O(M),m=N(M,"DIV",{class:!0});var K=D(m);ee(f.$$.fragment,K),g=O(K),ee(_.$$.fragment,K),u=O(K),ee(b.$$.fragment,K),E=O(K),ee(C.$$.fragment,K),R=O(K),ee(q.$$.fragment,K),K.forEach(k),M.forEach(k),this.h()},h(){d(s,"class","label svelte-35d0fx"),d(n,"class","score svelte-35d0fx"),d(t,"class","header svelte-35d0fx"),d(m,"class","body svelte-35d0fx"),d(l,"class","container svelte-35d0fx"),oe(l,"--border-color",e[1])},m(S,M){ne(S,l,M),h(l,t),h(t,s),h(t,r),h(t,n),h(n,i),h(l,a),h(l,m),te(f,m,null),h(m,g),te(_,m,null),h(m,u),te(b,m,null),h(m,E),te(C,m,null),h(m,R),te(q,m,null),J=!0},p(S,[M]){(!J||M&1)&&_e(i,S[0]);const ce={};!c&&M&32&&(c=!0,ce.value=S[5],W(()=>c=!1)),f.$set(ce);const ve={};M&4&&(ve.color=S[2]),!V&&M&8&&(V=!0,ve.value=S[3][0],W(()=>V=!1)),_.$set(ve);const K={};M&4&&(K.color=S[2]),!v&&M&8&&(v=!0,K.value=S[3][1],W(()=>v=!1)),b.$set(K);const Ie={};M&4&&(Ie.color=S[2]),!p&&M&8&&(p=!0,Ie.value=S[3][2],W(()=>p=!1)),C.$set(Ie);const De={};M&4&&(De.color=S[2]),!T&&M&16&&(T=!0,De.spotlight=S[4],W(()=>T=!1)),q.$set(De),(!J||M&2)&&oe(l,"--border-color",S[1])},i(S){J||(H(f.$$.fragment,S),H(_.$$.fragment,S),H(b.$$.fragment,S),H(C.$$.fragment,S),H(q.$$.fragment,S),J=!0)},o(S){F(f.$$.fragment,S),F(_.$$.fragment,S),F(b.$$.fragment,S),F(C.$$.fragment,S),F(q.$$.fragment,S),J=!1},d(S){S&&k(l),le(f),le(_),le(b),le(C),le(q)}}}function fe(e,l){let t=0;return e.forEach(s=>{s==l&&(t+=1)}),t}function dt(e,l,t){let{score:s=0,color:o="#393939",radioColor:r=void 0}=l,n=[0,0,0],i=[!1,!1,!1],{ensemble:a=!1}=l,m=0;function f(u){m=u,t(5,m)}function c(u){e.$$.not_equal(n[0],u)&&(n[0]=u,t(3,n))}function g(u){e.$$.not_equal(n[1],u)&&(n[1]=u,t(3,n))}function _(u){e.$$.not_equal(n[2],u)&&(n[2]=u,t(3,n))}function V(u){i=u,t(4,i)}return e.$$set=u=>{"score"in u&&t(0,s=u.score),"color"in u&&t(1,o=u.color),"radioColor"in u&&t(2,r=u.radioColor),"ensemble"in u&&t(6,a=u.ensemble)},e.$$.update=()=>{if(e.$$.dirty&121){let u=0;for(let b=0;b<3;b++)switch(n[b]){case 1:u+=1;break;case 2:case 3:case 4:i[n[b]-2]?u+=4:u+=3}u+=Math.max((fe(n,2)-1)*2,0),u+=Math.max((fe(n,3)-1)*2,0),u+=Math.max((fe(n,4)-1)*2,0),u+=m*5,t(0,s=u),t(6,a=s>=10&&fe(n,2)+fe(n,3)+fe(n,4)>=2),console.log("ensemble: ",a),console.log("Score: ",s>=10,", Onstage: ",fe(n,2)+fe(n,3)+fe(n,4)>=2)}},[s,o,r,n,i,m,a,f,c,g,_,V]}class mt extends de{constructor(l){super(),me(this,l,dt,ht,he,{score:0,color:1,radioColor:2,ensemble:6})}}function gt(e){let l,t,s,o,r,n,i,a,m,f,c,g,_,V,u=e[1].score+"",b,v,E,C,p,R,q,T,J,P,j,U,y,A,$,L,ie,ge,se,S,M;c=new rt({props:{points:e[0]}});function ce(I){e[9](I)}function ve(I){e[10](I)}let K={config:e[4]};e[2].speaker!==void 0&&(K.score=e[2].speaker),e[3].speaker!==void 0&&(K.count=e[3].speaker),C=new qe({props:K}),Q.push(()=>Y(C,"score",ce)),Q.push(()=>Y(C,"count",ve));function Ie(I){e[11](I)}function De(I){e[12](I)}let Oe={config:e[5]};e[2].amp!==void 0&&(Oe.score=e[2].amp),e[3].amp!==void 0&&(Oe.count=e[3].amp),T=new qe({props:Oe}),Q.push(()=>Y(T,"score",Ie)),Q.push(()=>Y(T,"count",De));function Qe(I){e[13](I)}function We(I){e[14](I)}let ye={radioColor:e[1].color};e[2].stage!==void 0&&(ye.score=e[2].stage),e[0].ensemble!==void 0&&(ye.ensemble=e[0].ensemble),U=new mt({props:ye}),Q.push(()=>Y(U,"score",Qe)),Q.push(()=>Y(U,"ensemble",We));function Ye(I){e[15](I)}function Ze(I){e[16](I)}let Re={config:e[6]};return e[2].general!==void 0&&(Re.score=e[2].general),e[0].coopertition!==void 0&&(Re.coopertition=e[0].coopertition),L=new qe({props:Re}),Q.push(()=>Y(L,"score",Ye)),Q.push(()=>Y(L,"coopertition",Ze)),{c(){l=w("div"),t=w("div"),s=w("div"),o=w("div"),r=w("input"),n=B(),i=w("div"),a=w("input"),f=B(),x(c.$$.fragment),g=B(),_=w("h2"),V=X("Total Score: "),b=X(u),v=B(),E=w("div"),x(C.$$.fragment),q=B(),x(T.$$.fragment),j=B(),x(U.$$.fragment),$=B(),x(L.$$.fragment),this.h()},l(I){l=N(I,"DIV",{class:!0});var z=D(l);t=N(z,"DIV",{class:!0});var ue=D(t);s=N(ue,"DIV",{class:!0});var pe=D(s);o=N(pe,"DIV",{class:!0,style:!0});var we=D(o);r=N(we,"INPUT",{type:!0,maxlength:!0,class:!0}),we.forEach(k),n=O(pe),i=N(pe,"DIV",{class:!0});var Ee=D(i);a=N(Ee,"INPUT",{class:!0,size:!0,type:!0,maxlength:!0,placeholder:!0}),Ee.forEach(k),pe.forEach(k),f=O(ue),ee(c.$$.fragment,ue),g=O(ue),_=N(ue,"H2",{class:!0});var Ce=D(_);V=G(Ce,"Total Score: "),b=G(Ce,u),Ce.forEach(k),ue.forEach(k),v=O(z),E=N(z,"DIV",{class:!0,style:!0});var be=D(E);ee(C.$$.fragment,be),q=O(be),ee(T.$$.fragment,be),j=O(be),ee(U.$$.fragment,be),$=O(be),ee(L.$$.fragment,be),be.forEach(k),z.forEach(k),this.h()},h(){d(r,"type","color"),d(r,"maxlength","16"),d(r,"class","svelte-xec0dt"),d(o,"class","input color svelte-xec0dt"),oe(o,"--alliance-color",e[1].color),d(a,"class","editable-name svelte-xec0dt"),d(a,"size",m=e[1].name.length??0),d(a,"type","text"),d(a,"maxlength","20"),d(a,"placeholder","New Alliance"),d(i,"class","input svelte-xec0dt"),d(s,"class","inputs svelte-xec0dt"),d(_,"class","score svelte-xec0dt"),d(t,"class","header svelte-xec0dt"),d(E,"class","container svelte-xec0dt"),oe(E,"--border-color",e[1].color),d(l,"class","wrapper svelte-xec0dt")},m(I,z){ne(I,l,z),h(l,t),h(t,s),h(s,o),h(o,r),Ne(r,e[1].color),h(s,n),h(s,i),h(i,a),Ne(a,e[1].name),h(t,f),te(c,t,null),h(t,g),h(t,_),h(_,V),h(_,b),h(l,v),h(l,E),te(C,E,null),h(E,q),te(T,E,null),h(E,j),te(U,E,null),h(E,$),te(L,E,null),se=!0,S||(M=[ae(r,"input",e[7]),ae(a,"input",e[8])],S=!0)},p(I,[z]){z&2&&Ne(r,I[1].color),(!se||z&2)&&oe(o,"--alliance-color",I[1].color),(!se||z&2&&m!==(m=I[1].name.length??0))&&d(a,"size",m),z&2&&a.value!==I[1].name&&Ne(a,I[1].name);const ue={};z&1&&(ue.points=I[0]),c.$set(ue),(!se||z&2)&&u!==(u=I[1].score+"")&&_e(b,u);const pe={};!p&&z&4&&(p=!0,pe.score=I[2].speaker,W(()=>p=!1)),!R&&z&8&&(R=!0,pe.count=I[3].speaker,W(()=>R=!1)),C.$set(pe);const we={};!J&&z&4&&(J=!0,we.score=I[2].amp,W(()=>J=!1)),!P&&z&8&&(P=!0,we.count=I[3].amp,W(()=>P=!1)),T.$set(we);const Ee={};z&2&&(Ee.radioColor=I[1].color),!y&&z&4&&(y=!0,Ee.score=I[2].stage,W(()=>y=!1)),!A&&z&1&&(A=!0,Ee.ensemble=I[0].ensemble,W(()=>A=!1)),U.$set(Ee);const Ce={};!ie&&z&4&&(ie=!0,Ce.score=I[2].general,W(()=>ie=!1)),!ge&&z&1&&(ge=!0,Ce.coopertition=I[0].coopertition,W(()=>ge=!1)),L.$set(Ce),(!se||z&2)&&oe(E,"--border-color",I[1].color)},i(I){se||(H(c.$$.fragment,I),H(C.$$.fragment,I),H(T.$$.fragment,I),H(U.$$.fragment,I),H(L.$$.fragment,I),se=!0)},o(I){F(c.$$.fragment,I),F(C.$$.fragment,I),F(T.$$.fragment,I),F(U.$$.fragment,I),F(L.$$.fragment,I),se=!1},d(I){I&&k(l),le(c),le(C),le(T),le(U),le(L),S=!1,Se(M)}}}function vt(e,l,t){let{alliance:s}=l,o={speaker:0,amp:0,stage:0,general:0},r={amp:0,speaker:0},{special:n={coopertition:0,ensemble:!1,melody:!1}}=l,i={name:"Speaker",category:{Auto:[{label:"Note",value:0,increment:5}],Teleop:[{label:"Note",value:0,increment:2},{label:"Amplified Note",value:0,increment:5}]}},a={name:"Amp",category:{Auto:[{label:"Note",value:0,increment:2}],Teleop:[{label:"Note",value:0,increment:1}]}},m={name:"General",category:{Auto:[{label:"Robot Left Start",value:0,increment:2,max:3}],Coopertition:[{label:"Buttons pressed",value:0,increment:0,coopertition:!0,max:1}]}};function f(){s.color=this.value,t(1,s),t(2,o),t(0,n),t(3,r)}function c(){s.name=this.value,t(1,s),t(2,o),t(0,n),t(3,r)}function g(p){e.$$.not_equal(o.speaker,p)&&(o.speaker=p,t(2,o))}function _(p){e.$$.not_equal(r.speaker,p)&&(r.speaker=p,t(3,r))}function V(p){e.$$.not_equal(o.amp,p)&&(o.amp=p,t(2,o))}function u(p){e.$$.not_equal(r.amp,p)&&(r.amp=p,t(3,r))}function b(p){e.$$.not_equal(o.stage,p)&&(o.stage=p,t(2,o))}function v(p){e.$$.not_equal(n.ensemble,p)&&(n.ensemble=p,t(0,n),t(2,o),t(3,r))}function E(p){e.$$.not_equal(o.general,p)&&(o.general=p,t(2,o))}function C(p){e.$$.not_equal(n.coopertition,p)&&(n.coopertition=p,t(0,n),t(2,o),t(3,r))}return e.$$set=p=>{"alliance"in p&&t(1,s=p.alliance),"special"in p&&t(0,n=p.special)},e.$$.update=()=>{if(e.$$.dirty&13){t(1,s.score=o.speaker+o.amp+o.stage+o.general,s);let p=n.coopertition?15:18;t(0,n.melody=r.speaker+r.amp>=p,n)}},[n,s,o,r,i,a,m,f,c,g,_,V,u,b,v,E,C]}class pt extends de{constructor(l){super(),me(this,l,vt,gt,he,{alliance:1,special:0})}}function Fe(e,l,t){const s=e.slice();return s[2]=l[t],s}function Xe(e){let l,t,s=e[2].name+"",o,r,n,i=e[2].score+"",a,m;return{c(){l=w("div"),t=w("h4"),o=X(s),r=B(),n=w("span"),a=X(i),m=B(),this.h()},l(f){l=N(f,"DIV",{class:!0,style:!0});var c=D(l);t=N(c,"H4",{class:!0});var g=D(t);o=G(g,s),g.forEach(k),r=O(c),n=N(c,"SPAN",{class:!0});var _=D(n);a=G(_,i),_.forEach(k),m=O(c),c.forEach(k),this.h()},h(){d(t,"class","svelte-14f6il4"),d(n,"class","score svelte-14f6il4"),d(l,"class","row svelte-14f6il4"),oe(l,"--alliance-color",e[2].color)},m(f,c){ne(f,l,c),h(l,t),h(t,o),h(l,r),h(l,n),h(n,a),h(l,m)},p(f,c){c&1&&s!==(s=f[2].name+"")&&_e(o,s),c&1&&i!==(i=f[2].score+"")&&_e(a,i),c&1&&oe(l,"--alliance-color",f[2].color)},d(f){f&&k(l)}}}function bt(e){let l,t=ke(e[0]),s=[];for(let o=0;o<t.length;o+=1)s[o]=Xe(Fe(e,t,o));return{c(){l=w("div");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){l=N(o,"DIV",{class:!0});var r=D(l);for(let n=0;n<s.length;n+=1)s[n].l(r);r.forEach(k),this.h()},h(){d(l,"class","leaderboard svelte-14f6il4")},m(o,r){ne(o,l,r);for(let n=0;n<s.length;n+=1)s[n]&&s[n].m(l,null)},p(o,[r]){if(r&1){t=ke(o[0]);let n;for(n=0;n<t.length;n+=1){const i=Fe(o,t,n);s[n]?s[n].p(i,r):(s[n]=Xe(i),s[n].c(),s[n].m(l,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=t.length}},i:re,o:re,d(o){o&&k(l),Pe(s,o)}}}function kt(e,l,t){let{alliances:s}=l,o=[];return e.$$set=r=>{"alliances"in r&&t(1,s=r.alliances)},e.$$.update=()=>{e.$$.dirty&3&&(t(0,o=s.map(r=>({...r}))),o.sort((r,n)=>n.score-r.score))},[o,s]}class Et extends de{constructor(l){super(),me(this,l,kt,bt,he,{alliances:1})}}function Ge(e,l,t){const s=e.slice();return s[4]=l[t],s[5]=l,s[6]=t,s}function Je(e){let l,t,s;function o(n){e[3](n,e[4],e[5],e[6])}let r={};return e[4]!==void 0&&(r.alliance=e[4]),l=new pt({props:r}),Q.push(()=>Y(l,"alliance",o)),{c(){x(l.$$.fragment)},l(n){ee(l.$$.fragment,n)},m(n,i){te(l,n,i),s=!0},p(n,i){e=n;const a={};!t&&i&2&&(t=!0,a.alliance=e[4],W(()=>t=!1)),l.$set(a)},i(n){s||(H(l.$$.fragment,n),s=!0)},o(n){F(l.$$.fragment,n),s=!1},d(n){le(l,n)}}}function Ct(e){let l,t,s,o,r='<a href="https://www.firstinspires.org/robotics/frc/game-and-season"><img class="logo svelte-1hjsu1h" src="./crescendo.png" alt="Crescendo Logo"/></a> <h4 class="svelte-1hjsu1h">Scoring Calculator</h4> <p class="svelte-1hjsu1h">Created by <a href="https://github.com/murphy28">Ohlin Arellano</a></p> <p class="svelte-1hjsu1h">From <a href="https://pairofdice.vegas/">Pair of Dice 7426</a></p>',n,i,a="Leaderboard",m,f,c,g,_,V,u,b,v,E,C;f=new Et({props:{alliances:e[1]}});function p(P){e[2](P)}let R={label:"Alliances",max:30,multiplier:0,title:!0};e[0]!==void 0&&(R.value=e[0]),_=new Be({props:R}),Q.push(()=>Y(_,"value",p));let q=ke(e[1]),T=[];for(let P=0;P<q.length;P+=1)T[P]=Je(Ge(e,q,P));const J=P=>F(T[P],1,1,()=>{T[P]=null});return{c(){l=B(),t=w("main"),s=w("div"),o=w("div"),o.innerHTML=r,n=B(),i=w("h2"),i.textContent=a,m=B(),x(f.$$.fragment),c=B(),g=w("div"),x(_.$$.fragment),u=B(),b=w("br"),v=B(),E=w("div");for(let P=0;P<T.length;P+=1)T[P].c();this.h()},l(P){$e("svelte-1pibc79",document.head).forEach(k),l=O(P),t=N(P,"MAIN",{class:!0});var U=D(t);s=N(U,"DIV",{class:!0});var y=D(s);o=N(y,"DIV",{class:!0,"data-svelte-h":!0}),Te(o)!=="svelte-1wy7b7x"&&(o.innerHTML=r),n=O(y),i=N(y,"H2",{"data-svelte-h":!0}),Te(i)!=="svelte-16hmka3"&&(i.textContent=a),m=O(y),ee(f.$$.fragment,y),y.forEach(k),c=O(U),g=N(U,"DIV",{class:!0});var A=D(g);ee(_.$$.fragment,A),u=O(A),b=N(A,"BR",{}),v=O(A),E=N(A,"DIV",{class:!0});var $=D(E);for(let L=0;L<T.length;L+=1)T[L].l($);$.forEach(k),A.forEach(k),U.forEach(k),this.h()},h(){document.title="Crescendo Calculator",d(o,"class","header svelte-1hjsu1h"),d(s,"class","controls svelte-1hjsu1h"),d(E,"class","teams svelte-1hjsu1h"),d(g,"class","teams-wrapper svelte-1hjsu1h"),d(t,"class","svelte-1hjsu1h")},m(P,j){ne(P,l,j),ne(P,t,j),h(t,s),h(s,o),h(s,n),h(s,i),h(s,m),te(f,s,null),h(t,c),h(t,g),te(_,g,null),h(g,u),h(g,b),h(g,v),h(g,E);for(let U=0;U<T.length;U+=1)T[U]&&T[U].m(E,null);C=!0},p(P,[j]){const U={};j&2&&(U.alliances=P[1]),f.$set(U);const y={};if(!V&&j&1&&(V=!0,y.value=P[0],W(()=>V=!1)),_.$set(y),j&2){q=ke(P[1]);let A;for(A=0;A<q.length;A+=1){const $=Ge(P,q,A);T[A]?(T[A].p($,j),H(T[A],1)):(T[A]=Je($),T[A].c(),H(T[A],1),T[A].m(E,null))}for(Ae(),A=q.length;A<T.length;A+=1)J(A);Ve()}},i(P){if(!C){H(f.$$.fragment,P),H(_.$$.fragment,P);for(let j=0;j<q.length;j+=1)H(T[j]);C=!0}},o(P){F(f.$$.fragment,P),F(_.$$.fragment,P),T=T.filter(Boolean);for(let j=0;j<T.length;j+=1)F(T[j]);C=!1},d(P){P&&(k(l),k(t)),le(f),le(_),Pe(T,P)}}}function wt(){return"#"+Math.floor(Math.random()*16777215).toString(16)}function Nt(e,l,t){let s=2,o=[{name:"Red Alliance",color:"#c94e4e",score:0},{name:"Blue Alliance",color:"#3d6cb9",score:0}];function r(i){s=i,t(0,s),t(1,o)}function n(i,a,m,f){m[f]=i,t(1,o),t(0,s)}return e.$$.update=()=>{if(e.$$.dirty&3){for(s<1&&t(0,s=1);o.length<s;)t(1,o=[...o,{name:`Alliance ${o.length+1}`,color:wt(),score:0}]);for(;o.length>s;)t(1,o=o.slice(0,-1))}},[s,o,r,n]}class Dt extends de{constructor(l){super(),me(this,l,Nt,Ct,he,{})}}export{Dt as component};
